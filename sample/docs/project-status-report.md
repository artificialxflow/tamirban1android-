# ฺฏุฒุงุฑุด ุฌุงูุน ูุถุนุช ูพุฑูฺู ุชุนูุฑุจุงู

**ุชุงุฑุฎ ฺฏุฒุงุฑุด:** ฑดฐด/ฐธ/ฒถ  
**ูุณุฎู ูพุฑูฺู:** 0.1.0  
**ูุถุนุช ฺฉู:** ุฏุฑ ุญุงู ุชูุณุนู (ุญุฏูุฏ ถฐ% ุชฺฉูู ุดุฏู)

---

## ๐ ุฎูุงุตู ุงุฌุฑุง

### ูุถุนุช ฺฉู ูุงฺููโูุง

| ูุงฺูู | ูุถุนุช | ุฏุฑุตุฏ ุชฺฉูู | ุงูููุช |
|-------|-------|-----------|--------|
| **ุงุญุฑุงุฒ ููุช** | โ ฺฉุงูู | ฑฐฐ% | โ |
| **Customers** | โ ฺฉุงูู | นต% | โ |
| **Visits** | โ ฺฉุงูู | ธต% | โ |
| **Marketers** | โ ฺฉุงูู | นฐ% | โ |
| **Invoices** | โ๏ธ ุฏุฑ ุญุงู ุชูุณุนู | ฒฐ% | ๐ด ุจุงูุง |
| **SMS Center** | โ ุดุฑูุน ูุดุฏู | ฑฐ% | ๐ก ูุชูุณุท |
| **Reports** | โ๏ธ ุฌุฒุฆ | ณฐ% | ๐ก ูุชูุณุท |
| **Dashboard** | โ ฺฉุงูู | ธต% | โ |
| **ููุดู ูุดุงู** | โ ุดุฑูุน ูุดุฏู | ฐ% | ๐ด ุจุงูุง |

---

## โ ฺฉุงุฑูุง ุงูุฌุงู ุดุฏู

### 1. ุฒุฑุณุงุฎุช ู ุงุญุฑุงุฒ ููุช (ฑฐฐ% ุชฺฉูู)
- โ ุฑุงูโุงูุฏุงุฒ Next.js + TypeScript + Tailwind CSS
- โ ุงุชุตุงู ุจู MongoDB
- โ ุงุญุฑุงุฒ ููุช ุจุง OTP ู ุชุงุจุงู ุงุณโุงูโุงุณ
- โ JWT ู Refresh Token
- โ Role-Based Access Control (RBAC)
- โ Rate Limiting ู Error Handling
- โ Postman Collection ุจุฑุง Auth

### 2. ูุงฺูู Customers (นต% ุชฺฉูู)
- โ CRUD ฺฉุงูู (Create, Read, Update, Delete)
- โ ููุชุฑ ูพุดุฑูุชู (ูุถุนุชุ ุดูุฑุ ุจุงุฒุงุฑุงุจ)
- โ ุฌุณุชุฌู ุฒูุฏู
- โ Pagination
- โ ูุฑู ุงุฌุงุฏ ู ูุฑุงุด
- โ Import/Export Excel (ุจุงูโูุงูุฏู)
- โ ุตูุญู ุฌุฒุฆุงุช ูุดุชุฑ (ุจุงูโูุงูุฏู)

### 3. ูุงฺูู Visits (ธต% ุชฺฉูู)
- โ CRUD ฺฉุงูู
- โ ููุชุฑ ุจุฑ ุงุณุงุณ ุชุงุฑุฎุ ุจุงุฒุงุฑุงุจุ ูุถุนุช
- โ ูุฑู ุซุจุช/ูุฑุงุด ูุฒุช
- โ Persian Date Time Picker
- โ Overview ู Reminders
- โ ููุดู ูุดุงู (ุงูููุช ุจุงูุง)
- โ ุชุบุฑ ูุถุนุช ุงุฒ UI (ุจุงูโูุงูุฏู)

### 4. ูุงฺูู Marketers (นฐ% ุชฺฉูู)
- โ CRUD ฺฉุงูู
- โ Pagination ู Sort
- โ ฺฉุงุฑุชโูุง ุนููฺฉุฑุฏ
- โ ุชุงุจูู ุงูุชุงุฒ ุฏุงูุงูฺฉ
- โ ูุฑู ุงุฌุงุฏ/ูุฑุงุด
- โ ูููุฏุงุฑ ุนููฺฉุฑุฏ (ุจุงูโูุงูุฏู)

### 5. Dashboard (ธต% ุชฺฉูู)
- โ KPI Cards
- โ Today Visits Preview
- โ Quick Tasks
- โ Stats Overview
- โ ููุชุฑ ุฒูุงู (ุจุงูโูุงูุฏู)

---

## โ๏ธ ฺฉุงุฑูุง ุฏุฑ ุญุงู ุงูุฌุงู

### 1. ูุงฺูู Invoices (ฒฐ% ุชฺฉูู) ๐ด ุงูููุช ุจุงูุง
**ูุถุนุช ูุนู:**
- โ Repository ุขูุงุฏู ุงุณุช
- โ Types/Interfaces ุชุนุฑู ุดุฏู
- โ Service ฺฉุงูู ูุดุฏู
- โ API Endpoints ูพุงุฏูโุณุงุฒ ูุดุฏู
- โ ูุฑุงูุชโุงูุฏ ููุท UI ุงุณุชุงุชฺฉ ุฏุงุฑุฏ
- โ PDF Generation ูพุงุฏูโุณุงุฒ ูุดุฏู

**ฺฉุงุฑูุง ูุงุฒู:**
1. ูพุงุฏูโุณุงุฒ `invoices.service.ts`:
   - `createInvoice()`
   - `updateInvoice()`
   - `calculateInvoiceTotal()`
   - `markAsPaid()`
   - `listInvoices()` ุจุง ููุชุฑ

2. ุงุฌุงุฏ API Endpoints:
   - GET /api/invoices (ูุณุช)
   - POST /api/invoices (ุงุฌุงุฏ)
   - GET /api/invoices/[id] (ุฌุฒุฆุงุช)
   - PATCH /api/invoices/[id] (ูุฑุงุด)
   - DELETE /api/invoices/[id] (ุญุฐู)
   - PATCH /api/invoices/[id]/status (ุชุบุฑ ูุถุนุช)
   - GET /api/invoices/[id]/pdf (ุฏุงูููุฏ PDF)

3. PDF Generation:
   - ูุตุจ ฺฉุชุงุจุฎุงูู (pdfkit ุง puppeteer)
   - Template ูพุดโูุงฺฉุชูุฑ
   - ุชููุฏ PDF ุจุง ุฏุงุฏู ูุงูุน

4. ูุฑุงูุชโุงูุฏ:
   - ุงุชุตุงู ุจู API
   - ูุฑู ุงุฌุงุฏ/ูุฑุงุด ูพุดโูุงฺฉุชูุฑ
   - ูพุดโููุงุด PDF
   - ุชุบุฑ ูุถุนุช ูพุฑุฏุงุฎุช

**ุจุฑุขูุฑุฏ ุฒูุงู:** ถ-น ุฑูุฒ

---

## โ ฺฉุงุฑูุง ุจุงูโูุงูุฏู (ุงูููุช ุจุงูุง)

### 1. ุงุฏุบุงู ููุดู ูุดุงู ุฏุฑ ูุจโุงูพ ๐บ๏ธ ๐ด

**ูุถุนุช:** API Key ุฏุฑุงูุช ุดุฏู (`web.eaba70d1a1b34fb2a2ad25306e8e58c7`)

**ฺฉุงุฑูุง ูุงุฒู:**
1. ุงูุฒูุฏู API Key ุจู `.env.local`
2. ูุตุจ ฺฉุชุงุจุฎุงูู ููุดู ูุดุงู:
   ```bash
   npm install @neshan-maps-platform/neshan-maps-gl
   ```
3. ุงุฌุงุฏ ฺฉุงููพูููุช `NeshanMap`:
   - ููุงุด ููุดู ุฏุฑ ุตูุญู Visits
   - ููุงุด Marker ูุฒุชโูุง
   - ุงูฺฉุงู ุงูุชุฎุงุจ ูููุนุช
   - ุฐุฎุฑู ูุฎุชุตุงุช ุฏุฑ Visit

4. ุจูโุฑูุฒุฑุณุงู ูุฏู Visit:
   - ุงูุฒูุฏู ููุฏ `location` (latitude, longitude)

5. API Endpoints:
   - GET /api/visits/locations (ูุณุช ูุฎุชุตุงุช)
   - POST /api/visits/[id]/location (ุจูโุฑูุฒุฑุณุงู)

**ุจุฑุขูุฑุฏ ุฒูุงู:** ณ-ด ุฑูุฒ

---

### 2. ูุงฺูู SMS Center (ฑฐ% ุชฺฉูู) ๐ก

**ูุถุนุช:** ููุท ุชุงุจุงู ุงุณโุงูโุงุณ ุจุฑุง OTP ูพุงุฏูโุณุงุฒ ุดุฏู

**ฺฉุงุฑูุง ูุงุฒู:**
1. Service ฺฉุงูู:
   - `sendCampaignSms()`
   - `listSmsLogs()`
   - `createCampaign()`

2. API Endpoints:
   - GET /api/sms/campaigns
   - POST /api/sms/campaigns
   - GET /api/sms/logs
   - POST /api/sms/send

3. ูุฑุงูุชโุงูุฏ:
   - ูุณุช ฺฉููพูโูุง
   - ูุฑู ุงุฌุงุฏ ฺฉููพู
   - ุขูุงุฑ ุงุฑุณุงูโูุง

**ุจุฑุขูุฑุฏ ุฒูุงู:** ด ุฑูุฒ

---

### 3. ูุงฺูู Reports (ณฐ% ุชฺฉูู) ๐ก

**ูุถุนุช:** ููุท Dashboard Overview ุขูุงุฏู ุงุณุช

**ฺฉุงุฑูุง ูุงุฒู:**
1. Service ฺฉุงูู:
   - `getCustomerReports()`
   - `getInvoiceReports()`
   - `getVisitReports()`
   - `exportToExcel()`

2. API Endpoints:
   - GET /api/reports/customers
   - GET /api/reports/invoices
   - GET /api/reports/visits
   - GET /api/reports/export

3. ูุฑุงูุชโุงูุฏ:
   - ูููุฏุงุฑูุง ุชุญูู
   - ุฌุฏุงูู ฺฏุฒุงุฑุด
   - ุฎุฑูุฌ Excel/PDF

**ุจุฑุขูุฑุฏ ุฒูุงู:** ด-ถ ุฑูุฒ

---

## ๐ฑ ูุงุฒููุฏโูุง ุงูุฏุฑูุฏ (ุจุฑุง ูุงุฒ ุจุนุฏ)

### ููุดู ูุดุงู ุจุฑุง ุงูุฏุฑูุฏ

**ูุงุฒููุฏโูุง:**
1. **ุฏุฑุงูุช API Key ุงูุฏุฑูุฏ:**
   - ุงุฌุงุฏ ฺฉูุฏ ุฏุณุชุฑุณ Android ุฏุฑ ูพูู ูุดุงู
   - ุฏุฑุงูุช Bundle Name ุงุฒ ุชู ุงูุฏุฑูุฏ
   - ุฏุฑุงูุช Sign Key ุงุฒ ุชู ุงูุฏุฑูุฏ
   - ุซุจุช ุฏุฑ `.env.example`

2. **ูุณุชูุฏุณุงุฒ:**
   - ููฺฉ ุจู ูุณุชูุฏุงุช ุฑุณู ูุดุงู ุจุฑุง Android SDK
   - ูุซุงูโูุง ฺฉุฏ ุจุฑุง Flutter/Android
   - ุฑุงูููุง Location Services
   - ูุฌูุฒูุง ูุงุฒู (AndroidManifest.xml)

3. **API Endpoints:**
   - GET /api/visits/locations (ุจุฑุง ููุงุด ุฑู ููุดู)
   - POST /api/visits/[id]/location (ุจูโุฑูุฒุฑุณุงู ูุฎุชุตุงุช)
   - GET /api/customers/[id]/location (ูููุนุช ูุดุชุฑ)

**ุจุฑุขูุฑุฏ ุฒูุงู:** ฑ-ฒ ุฑูุฒ (ุจุนุฏ ุงุฒ ุฏุฑุงูุช ุงุทูุงุนุงุช ุงุฒ ุชู ุงูุฏุฑูุฏ)

---

## ๐ง ุจูููโุณุงุฒโูุง ูุงุฒู

### 1. ุงูุฏฺฉุณโูุง MongoDB
- [ ] ุงูุฏฺฉุณ ุจุฑุง `contact.phone` (Customers)
- [ ] ุงูุฏฺฉุณ ุจุฑุง `displayName` (Customers - text search)
- [ ] ุงูุฏฺฉุณ ุจุฑุง `customerId`, `marketerId`, `scheduledAt`, `status` (Visits)
- [ ] ุงูุฏฺฉุณ ุจุฑุง `customerId`, `status`, `dueAt` (Invoices)

**ุจุฑุขูุฑุฏ ุฒูุงู:** ฐ.ต ุฑูุฒ

### 2. Import/Export Excel
- [ ] Import Customers ุงุฒ Excel
- [ ] Export Customers ุจู Excel
- [ ] Export Reports ุจู Excel

**ุจุฑุขูุฑุฏ ุฒูุงู:** ฒ-ณ ุฑูุฒ

### 3. ุชุณุชโูุง
- [ ] Unit Tests (Services)
- [ ] Integration Tests (API Endpoints)
- [ ] E2E Tests (ุณูุงุฑููุง ฺฉูุฏ)

**ุจุฑุขูุฑุฏ ุฒูุงู:** ณ-ต ุฑูุฒ

---

## ๐ ุจุฑุขูุฑุฏ ุฒูุงู ฺฉู

### ฺฉุงุฑูุง ููุฑ (ุงูููุช ุจุงูุง)
| ฺฉุงุฑ | ุฒูุงู ุจุฑุขูุฑุฏ |
|-----|-------------|
| ุชฺฉูู ูุงฺูู Invoices | ถ-น ุฑูุฒ |
| ุงุฏุบุงู ููุดู ูุดุงู (ูุจ) | ณ-ด ุฑูุฒ |
| ุงูุฏฺฉุณโูุง MongoDB | ฐ.ต ุฑูุฒ |
| **ุฌูุน** | **น.ต-ฑณ.ต ุฑูุฒ** |

### ฺฉุงุฑูุง ูุชูุณุท (ุงูููุช ูุชูุณุท)
| ฺฉุงุฑ | ุฒูุงู ุจุฑุขูุฑุฏ |
|-----|-------------|
| ุชฺฉูู SMS Center | ด ุฑูุฒ |
| ุชฺฉูู Reports | ด-ถ ุฑูุฒ |
| Import/Export Excel | ฒ-ณ ุฑูุฒ |
| **ุฌูุน** | **ฑฐ-ฑณ ุฑูุฒ** |

### ฺฉุงุฑูุง ูพุงู (ุงูููุช ูพุงู)
| ฺฉุงุฑ | ุฒูุงู ุจุฑุขูุฑุฏ |
|-----|-------------|
| ุชุณุชโูุง ุฌุงูุน | ณ-ต ุฑูุฒ |
| ุจูููโุณุงุฒ ุนููฺฉุฑุฏ | ฑ-ฒ ุฑูุฒ |
| ูุณุชูุฏุณุงุฒ ฺฉุงูู | ฑ-ฒ ุฑูุฒ |
| **ุฌูุน** | **ต-น ุฑูุฒ** |

### **ุฌูุน ฺฉู ฺฉุงุฑูุง ุจุงูโูุงูุฏู: ฒด.ต-ณต.ต ุฑูุฒ ฺฉุงุฑ**

> ุชูุฌู: ุงู ุฒูุงูโูุง ุจุฑุง ฺฉ ุชูุณุนูโุฏููุฏู ุงุณุช. ุจุง ุชู ฒ-ณ ููุฑู ูโุชูุงู ุจู ณ-ด ููุชู ฺฉุงูุด ุฏุงุฏ.

---

## ๐ฏ ุจุฑูุงูู ูพุดููุงุฏ (ุงูููุชโุจูุฏ ุดุฏู)

### ููุชู ฑ-ฒ: ุชฺฉูู ูุงฺููโูุง ุงุตู
1. **ุฑูุฒ ฑ-ณ:** ุชฺฉูู ูุงฺูู Invoices (Service + API)
2. **ุฑูุฒ ด-ต:** PDF Generation
3. **ุฑูุฒ ถ-ท:** ูุฑุงูุชโุงูุฏ Invoices
4. **ุฑูุฒ ธ-ฑฐ:** ุงุฏุบุงู ููุดู ูุดุงู (ูุจ)
5. **ุฑูุฒ ฑฑ-ฑฒ:** ุงูุฏฺฉุณโูุง MongoDB
6. **ุฑูุฒ ฑณ-ฑด:** ุชุณุช ู ุฑูุน ุจุงฺฏ

### ููุชู ณ: ูุงฺููโูุง ุชฺฉูู
1. **ุฑูุฒ ฑต-ฑธ:** ุชฺฉูู SMS Center
2. **ุฑูุฒ ฑน-ฒฒ:** ุชฺฉูู Reports
3. **ุฑูุฒ ฒณ-ฒด:** Import/Export Excel

### ููุชู ด: ุจูููโุณุงุฒ ู ุชุณุช
1. **ุฑูุฒ ฒต-ฒท:** ุชุณุชโูุง ุฌุงูุน
2. **ุฑูุฒ ฒธ-ฒน:** ุจูููโุณุงุฒ ุนููฺฉุฑุฏ
3. **ุฑูุฒ ณฐ:** ูุณุชูุฏุณุงุฒ ู ุขูุงุฏูโุณุงุฒ ุจุฑุง Flutter

---

## ๐ ฺฺฉโูุณุช ุชุญูู MVP

### ุจฺฉโุงูุฏ
- [x] ุงุญุฑุงุฒ ููุช ฺฉุงูู
- [x] Customers API
- [x] Visits API
- [x] Marketers API
- [ ] Invoices API
- [ ] PDF Generation
- [ ] SMS Center API
- [ ] Reports API
- [ ] ููุดู ูุดุงู API

### ูุฑุงูุชโุงูุฏ
- [x] ุงุญุฑุงุฒ ููุช UI
- [x] Customers UI
- [x] Visits UI
- [x] Marketers UI
- [ ] Invoices UI
- [ ] ููุดู ูุดุงู UI
- [ ] SMS Center UI
- [ ] Reports UI

### ุชุณุช
- [ ] Unit Tests (ทฐ%+ coverage)
- [ ] Integration Tests (ธฐ%+ coverage)
- [ ] E2E Tests (ุณูุงุฑููุง ฺฉูุฏ)
- [ ] Manual Testing

### ูุณุชูุฏุงุช
- [x] Postman Collection (Auth, Customers, Visits, Marketers)
- [ ] Postman Collection (Invoices, SMS, Reports)
- [ ] API Documentation
- [ ] ุฑุงูููุง Flutter/Android

---

## ๐ ูฺฉุงุช ููู

### 1. ููุดู ูุดุงู
- โ API Key ูุจ ุฏุฑุงูุช ุดุฏู: `web.eaba70d1a1b34fb2a2ad25306e8e58c7`
- โ API Key ุงูุฏุฑูุฏ: ูุงุฒ ุจู Bundle Name ู Sign Key ุงุฒ ุชู ุงูุฏุฑูุฏ
- ๐ ูุณุชูุฏุงุช: https://platform.neshan.org/docs/

### 2. ุชุงุจุงู ุงุณโุงูโุงุณ
- โ ุงุฏุบุงู ฺฉุงูู ุจุฑุง OTP
- โ SMS Center ุจุฑุง ฺฉููพูโูุง: ุจุงูโูุงูุฏู

### 3. MongoDB
- โ ุงุชุตุงู ุจุฑูุฑุงุฑ ุงุณุช
- โ๏ธ ุงูุฏฺฉุณโูุง: ูุงุฒ ุจู ุจูููโุณุงุฒ

### 4. Postman
- โ Collection ุจุฑุง Auth, Customers, Visits, Marketers
- โ Collection ุจุฑุง Invoices, SMS, Reports: ุจุงูโูุงูุฏู

---

## ๐ ุชูุงุณ ู ูพุดุชุจุงู

ุจุฑุง ุณูุงูุงุช ุง ูุดฺฉูุงุช:
- ุจุฑุฑุณ `todo.md` ุจุฑุง ูุณุช ฺฉุงูู ฺฉุงุฑูุง
- ุจุฑุฑุณ `docs/` ุจุฑุง ูุณุชูุฏุงุช ุชฺฉูู
- ุจุฑุฑุณ `postman/` ุจุฑุง ูุซุงูโูุง API

---

**ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู:** ฑดฐด/ฐธ/ฒถ  
**ูุณุฎู ฺฏุฒุงุฑุด:** 1.0

